<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>TapBeat</title>
  <meta name="theme-color" content="#0d1026" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- Background FX canvas -->
  <canvas id="fx"></canvas>

  <!-- SPLASH -->
  <section id="splash" class="screen screen--center" aria-hidden="false">
    <div class="glass splash-card">
      <div class="splash-title">Nota Bene studio</div>
      <div class="splash-sub">PRESENTS</div>
    </div>
  </section>

  <!-- MENU -->
  <section id="menu" class="screen screen--center" aria-hidden="true">
    <div class="menu-wrap glass">
      <h1 class="logo">TapBeat</h1>
      <p class="tagline">hit the beat • build the vibe</p>

      <button id="btnPlay" class="btn btn--primary">PLAY</button>
      <button id="btnSettings" class="btn">SETTINGS</button>
      <button id="btnShop" class="btn">SHOP</button>
      <button id="btnAch" class="btn">ACHIEVEMENTS</button>

      <p class="tip">Tip: tap <b>ONLY</b> inside the circle. Misses cost hearts.</p>
    </div>

    <div class="bottom-hud">
      <div class="hud-pill">
        <div class="hud-k">VIBE</div>
        <div id="hudVibeMenu" class="hud-v">Verse</div>
      </div>
      <div class="hud-pill hud-pill--wide">
        <div class="hud-k">ENERGY</div>
        <div class="bar"><div id="energyFillMenu" class="bar__fill"></div></div>
        <div id="energyPctMenu" class="hud-v">0%</div>
      </div>
      <div class="hud-pill">
        <div class="hud-k">STREAK</div>
        <div id="streakMenu" class="hud-v">0</div>
      </div>
    </div>
  </section>

  <!-- GAME -->
  <section id="game" class="screen" aria-hidden="true">
    <header class="topbar">
      <div class="stat">
        <div class="k">SCORE</div>
        <div id="score" class="v">0</div>
      </div>
      <div class="stat">
        <div class="k">COMBO</div>
        <div id="combo" class="v">0</div>
      </div>
      <div class="stat">
        <div class="k">COINS</div>
        <div id="coins" class="v">0</div>
      </div>
      <div class="stat">
        <div class="k">BPM</div>
        <div id="bpm" class="v">80</div>
      </div>
      <div class="stat">
        <div class="k">LV</div>
        <div id="lv" class="v">1</div>
      </div>

      <button id="gear" class="gear" aria-label="Settings">
        ⚙︎
      </button>

      <div class="hearts" aria-label="Lives">
        <span class="heart" id="h1">♥</span>
        <span class="heart" id="h2">♥</span>
        <span class="heart" id="h3">♥</span>
      </div>
    </header>

    <main class="play-wrap">
      <div id="field" class="field" role="application" aria-label="Tap field">
        <div id="ring" class="ring">
          <div class="ring__inner"></div>
          <div class="ring__core"></div>
        </div>

        <!-- Anime feedback -->
        <div id="judge" class="judge" aria-hidden="true"></div>

        <!-- fly-by distraction container -->
        <div id="fly" class="fly" aria-hidden="true"></div>
      </div>
    </main>

    <footer class="bottom-hud bottom-hud--game">
      <div class="hud-pill">
        <div class="hud-k">VIBE</div>
        <div id="hudVibe" class="hud-v">Verse</div>
      </div>

      <div class="hud-pill hud-pill--wide">
        <div class="hud-k">ENERGY</div>
        <div class="bar"><div id="energyFill" class="bar__fill"></div></div>
        <div id="energyPct" class="hud-v">0%</div>
      </div>

      <div class="hud-pill">
        <div class="hud-k">STREAK</div>
        <div id="streak" class="hud-v">0</div>
      </div>
    </footer>
  </section>

  <!-- MODALS -->
  <div id="modalBackdrop" class="backdrop" aria-hidden="true"></div>

  <section id="modalSettings" class="modal" aria-hidden="true">
    <div class="modal__card glass">
      <div class="modal__head">
        <h2>Settings</h2>
        <button class="x" data-close>✕</button>
      </div>

      <div class="row">
        <div>
          <div class="label">Music</div>
          <div class="hint">WebAudio synth (no files needed)</div>
        </div>
        <label class="toggle">
          <input id="optMusic" type="checkbox" checked />
          <span></span>
        </label>
      </div>

      <div class="row">
        <div>
          <div class="label">Vibration</div>
          <div class="hint">Tap feedback (iPhone supports it in many browsers)</div>
        </div>
        <label class="toggle">
          <input id="optHaptics" type="checkbox" checked />
          <span></span>
        </label>
      </div>

      <div class="row">
        <div>
          <div class="label">Hit window</div>
          <div class="hint">Bigger = easier</div>
        </div>
        <input id="optWindow" type="range" min="120" max="260" step="10" value="210" />
      </div>

      <div class="row">
        <div class="label">Circle skin</div>
        <div class="hint">Try them all</div>
      </div>

      <div id="skinGrid" class="skins"></div>

      <button id="btnBackMenu" class="btn btn--ghost">Back to Menu</button>
    </div>
  </section>

  <section id="modalShop" class="modal" aria-hidden="true">
    <div class="modal__card glass">
      <div class="modal__head">
        <h2>Shop</h2>
        <button class="x" data-close>✕</button>
      </div>
      <p class="muted">
        Placeholder for now. Skins are free in Settings so you can test everything.
      </p>
    </div>
  </section>

  <section id="modalAch" class="modal" aria-hidden="true">
    <div class="modal__card glass">
      <div class="modal__head">
        <h2>Achievements</h2>
        <button class="x" data-close>✕</button>
      </div>
      <div id="achList" class="ach-list"></div>
    </div>
  </section>

  <script defer src="game.js"></script>
</body>
</html>